<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="bootstrap.css">
    <link rel="stylesheet" href="projekt-style.css">
    <title>Dobrodej - Kviz</title>
</head>
<body>
    <h1> Vodn칳 kv칤z 游냦 </h1>
    <h3> Ste na ot치zke 캜. <span id="qno">1</span> z <span id="qtot"> 5</span></h3>
    <hr>
    <div id="content">
        <p>Sk칩re</p>
        <div class="dc" id="d1"></div>
        <div class="dc" id="d2"></div>
        <div class="dc" id="d3"></div>
        <div class="dc" id="d4"></div>
        <div class="dc" id="d5"></div>
    </div>
    
    <form id="quiz">
    <fieldset class="fset" id="f1">
        <legend> Hl. mesto Bulharska </legend>
        <input type="radio" name="1" id="r1"> Sofia <br>
        <input type="radio" name="1" > Belehrad <br>
        <input type="radio" name="1" > Ljubljana
    </fieldset>
    <fieldset class="fset" id="f2">
        <legend> So쬹치 formula </legend>
        <input type="checkbox" id="r2"> NaCl<sub>2</sub> <br>
        <input type="checkbox" > NaAs<sub>2</sub> <br>
        <input type="checkbox" id="r3"> Na<sub>2</sub>Cl<sub>4</sub>
        <p id="mult"> *choose multiple </p>
    </fieldset>
    <fieldset class="fset" id="f3">
        <legend> % 캜ernochov v US </legend>
        <input type="radio" name="3" id="r4"> 14% <br>
        <input type="radio" name="3" > 25% <br>
        <input type="radio" name="3" > 6% 
    </fieldset>
    <fieldset class="fset" id="f4">
        <legend> Juraj Mlich je </legend>
        <input type="radio" name="4"> distrib칰tor 游냦 <br>
        <input type="radio" name="4" id="r5"> program치tor <br>
        <input type="radio" name="4"> anime fanatik
    </fieldset>
    <fieldset class="fset" id="f5">
        <legend> GBAS bol zalo쬰n칳 (roku) </legend>
        <input type="text" id="r6" onkeydown="if(event.keyCode == 13) event.preventDefault();">
    </fieldset>

    <button type="button" class="col-xl-3 offset-xl-5 col-lg-3 offset-lg-5 col-md-3 offset-md-5 col-sm-3 offset-sm-5" id="next"> 캝a쮄멸a ot치zka </button>
    </form>

    <script>
    var curr = 1;
    let qno = document.getElementById('qno');
    let t = document.getElementById('qtot');
    let f1 = document.getElementById('f1'); 
    let f2 = document.getElementById('f2');
    let f3 = document.getElementById('f3');
    let f4 = document.getElementById('f4');
    let f5 = document.getElementById('f5');
    let next = document.getElementById('next');
    let score = 0;
    let r1 = document.getElementById('r1');
    let r2 = document.getElementById('r2');
    let r3 = document.getElementById('r3');
    let r4 = document.getElementById('r4');
    let r5 = document.getElementById('r5');
    let r6 = document.getElementById('r6');
    let quiz = document.getElementById('quiz');
    let d1 = document.getElementById('d1');
    let d2 = document.getElementById('d2');
    let d3 = document.getElementById('d3');
    let d4 = document.getElementById('d4');
    let d5 = document.getElementById('d5');



    
    next.addEventListener('click', function() {
        for (curr; curr < 6;) {
            // Changes the UI to suit the final question
            if (curr === 4) {
                console.log("curr = 4, Initiated");
                next.innerHTML = "Dokon캜i test";
            }

            // Final question
            if (curr === 5) {
                console.log("Final Question Initiated");
                // Last question checked
                    if (r6.value === "1991" || r6.value === "1993") {score++; d5.style.background = "rgb(0,187,45)";} 
                    else {d5.style.background = "rgb(203,50,52)"};
                    // Alerts of the score
                        console.log(score);
                        alert("Good job!" + '\n \n' + "You scored: "+ score);
                    // Resets the questions' visibility
                        f1.style.visibility = "visible";                        
                        f2.style.visibility = "hidden";
                        f3.style.visibility = "hidden";
                        f4.style.visibility = "hidden";
                        f5.style.visibility = "hidden";
                            console.log("Alerted the user.");
                    // Resets the UI 
                        console.log("Reset the counter, Reset question number.");
                        curr = 1;
                        qno.innerHTML = "1";
                        next.innerHTML = "캝a쮄멸a ot치zka";
                        quiz.reset();
                    
                    //Resets the form
                        d1.style.background = "#fff"
                        d2.style.background = "#fff"
                        d3.style.background = "#fff"
                        d4.style.background = "#fff"
                        d5.style.background = "#fff"

                        break;
            }
            
            // Next Question
            if (document.getElementById('f'+curr).style.visibility = "visible") {
                //Proceeds to the next question
                    console.log("Next Question Initiated");
                    document.getElementById('f'+curr).style.visibility = "hidden";
                    
                    console.log("Last question set hidden."+" Curr is: "+curr);
                    curr++;
                    qno.innerHTML++;

                // Checks the questions one by one
                    switch (curr)     {
                        case 2: console.log(" - Evaluated Q1");
                        if (r1.checked ) {score++; d1.style.background = "rgb(0,187,45)";} else {d1.style.background = "rgb(203,50,52)";}
                        break;
                        case 3: console.log(" - Evaluated Q2");
                        if (r2.checked && r3.checked) {score++; d2.style.background = "rgb(0,187,45)";} else {d2.style.background = "rgb(203,50,52)";}
                        break;
                        case 4: console.log(" - Evaluated Q3");
                        if (r4.checked) {score++; d3.style.background = "rgb(0,187,45)";} else {d3.style.background = "rgb(203,50,52)";}
                        break;
                        case 5: console.log(" - Evaluated Q4");
                        if (r5.checked) {score++; d4.style.background = "rgb(0,187,45)";} else {d4.style.background = "rgb(203,50,52)";}
                        break;
                        // Case for the last question was added into the Final Question part of the code
                    }            
                    
                // Tracks the current score    
                    console.log(" - score: "+score);                 
                    document.getElementById('f'+curr).style.visibility = "visible";
                    
                    console.log("Next question is shown "+" Curr is: "+curr);
                break;
            }
            
            console.log("nothing, Initiated");
        }

        
    });
    </script>
</body>
</html>


